<!DOCTYPE HTML>

<html>
<head>
</head>
<body>
	<canvas id="canvas" width="500" height="500"></canvas>
	<script>
// 	// 1. Create a 2d rendering context for the canvas
		var canvas = document.querySelector("canvas");
		var ctx = canvas.getContext("2d");
		
	// 2. getImageData: retrieve information about canvas as a whole
		var data = ctx.getImageData(0,0,400,400);
	
	// 3. Change every 10th pixel to green color
		function paintGreen(imageData) {
			// first, figure out the number of pixels stored in the getImageData array
			var numPixels = imageData.data.length / 4;
			// Something should greyscale this all out...
			var greyscale = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i+2];
			// Then, use a for loop to iterate through the canvas and find every 10th pixel.
			for (var i = 0; i < numPixels; i++) {
				if (i % 10 === 0) {
					// Set the green element
					imageData.data[i * 4 + 1] = greyscale;
					// To make it work, the alpha channel also needs to be non-zero
					imageData.data[i * 4 + 3] = 255;
				}
			}
			ctx.putImageData(imageData,0,0);
		}
	// 4. Make the script run.
		paintGreen(data);
// 	// Official solution for greyscale quiz
// 		// Set 2d rendering context
// 		var canvas = document.querySelector("#canvas");
// 		var ctx = canvas.getContext("2d");
		
// 		// create a blank image on the canvas that we can then populate with something
// 		var image = new Image();
// 		image.onload = function() {
// 			ctx.drawImage(image, 0, 0);
// 			// makeGrayScale();
// 		}
		
// 		// set a source image for the image above
// 		image.src = "vincealongi-seascape.jpg"
		
// 		// function to make every pixel greyscale
// 		var makePixelGrayScale = function(r,g,b,a) {
// 			// better formula to make pixels greyscale
// 			var y = (0.3 * r) + (0.59 * g) + (0.11 * b);
// 			// return greyscale values that can be used in makeGrayScale(); function
// 			return (r: y, g:y, b: y, a:y);
// 		}
		
// 		function makeGrayScale() {
// 			var r,g,b,a;
// 			var imageData = ctx.getImageData(0,0,640,426);
// 			var numPixels = imageData.data.length /4;
// 			for (var i = 0; i < numPixels; i++) {
// 				r = imageData.data[i * 4 + 0];
// 				g = imageData.data[i * 4 + 1];
// 				b = imageData.data[i * 4 + 2];
// 				a = imageData.data[i * 4 + 3];
// 				pixel = makePixelGrayScale(r,g,b,a);
// 				imageData.data[i * 4 + 0] = pixel.r;
// 				imageData.data[i * 4 + 1] = pixel.g;
// 				imageData.data[i * 4 + 2] = pixel.b;
// 				imageData.data[i * 4 + 3] = pixel.a;
// 			}
// 			ctx.putImageData(imageData, 0, 0);
// 		}
	</script>
</body>
</html>